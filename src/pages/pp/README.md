# 冲压功能模板

## bundle 捆包收获
##扫描捆包号，通过工厂+车间+捆包号在板材管理中校验及获取数据
##提交时判断是否存在移动类型
##提交后更新捆包号的状态、实际收货数、收货时间、收货人信息
##提交后在WM库存表新增库存数据，零件号和箱号都为捆包号
## bundle-list  
弹框显示板材
## change-pieces
用于修改数量
## close-frame  合框
扫描：
1、在料箱管理表中校验二维码信息为料箱编码；
2、料框的状态为：“实框”，零件状态为：“正常”；
3、源料箱和目标料箱的车间一致；
4、判断装箱数是否大于目标料箱最大可装箱数；
提交：
0、判断装箱数是否大于目标料箱最大可装箱数；
1、更新源料框标签、目标料框标签数量，若源料框数量=0，则状态改为“空框”；
2、更新源料框、目标料框的WM库存数据；
3、新增两条出入库记录；
## panel-feed  板材上料管理
    扫描：
      a、扫描二维码时，优先去上料口数据中校验是否是上料口编码，若是，则更新上料口的选项；
      c.判断捆包号车间=PDA配置车间
      b.判断捆包号是否重复扫描
      e.判断捆包号状态为：“已收货”
      f.判断捆包号生产状态为：“未使用”、“被替换”
      f.判断捆包号生产状态不为“已用完”
    提交：
      a.判断捆包号生产状态不为“已用完”
      b.更新捆包号的生产状态为“使用中”，更新上料口、更新人、更新时间
      c.若有需要替换的捆包号，则将被替换的捆包号生产状态改为“被替换”，更新人、更新时间
      d.新增/更新操作配置管理数据“板材上料-上料口”、“板材上料-冲压件”
## sheet-panel
扫描：
    工厂+车间+捆包号在板材管理中校验及获取数据
提交：
    3、提交后判断是否存在移动类型，判断逻辑为：工厂+源仓库+目标仓库+单据类型（自建）
    4、提交后更新捆包号的车间、最后更新人、最后更新时间；车间为PDA选择的目标车间
    5、提交后根据移动类型配置创建对应的出入库单据，明细中的零件号和箱号都为捆包号，单据状态为完成，但不要增加零件库存信息数据。
    6、提交后在对应的捆包号WM库存信息进行移库
    7、提交后新增出入库交易记录，是否传帐根据移动类型配置控制
