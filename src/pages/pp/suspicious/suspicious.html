<ion-header>
  <ion-navbar color="primary">
    <ion-title>可疑品管理</ion-title>
  </ion-navbar>
</ion-header>

<ion-content>
  <form (submit)="scan()">
    <ion-searchbar #searchbar placeholder="{{barTextHolderText}}" [(ngModel)]="code" name="code"
      (ionFocus)="focusInput()" (ionBlur)="blurInput()">
    </ion-searchbar>
  </form>
  <ion-row>
    <ion-col no-padding>
      <button no-margin ion-button full large [ngStyle]="{'background-color':item.InOut == 1 ? 'Aquamarine' : '#C0C0C0' }"
        (click)="inRepair()">移入返修区</button>
    </ion-col>
    <ion-col no-padding>
      <button no-margin ion-button full large [ngStyle]="{'background-color':item.InOut == 0 ? 'Aquamarine' : '#C0C0C0' }"
        (click)="outRepair()">移出返修区</button>
    </ion-col>
  </ion-row>
  <div>
    <div class="ds-box" *ngFor="let part of item.parts;let i=index">
      <div class="row" style="font-size:larger;color:green">
        <span style="color:green;font-size:x-large;white-space:nowrap;letter-spacing:-2px;"> <svg t="1607854290207" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="6294" width="16" height="16"><path d="M1.13410958 480.21241629l481.46511189 0L482.59922147-1.25153053 1.13410958-1.25153053 1.13410958 480.21241629zM121.50126137 119.11445618l240.7319734 0 0 240.7319734L121.50126137 359.84642958 121.50126137 119.11445618zM542.78279737-1.25153053l0 481.4651119 481.46511189 0L1024.24790813-1.25153053 542.78279737-1.25153053zM903.88075747 359.84642958L663.14878407 359.84642958 663.14878407 119.11445618l240.7319734 0L903.88075747 359.84642958zM181.68367218 299.66401877l120.3659867 0L302.04965888 179.29686699 181.68367218 179.29686699 181.68367218 299.66401877zM1.13410958 1021.86110407l481.46511189 0L482.59922147 540.39599218 1.13410958 540.39599218 1.13410958 1021.86110407zM121.50126137 660.76197888l240.7319734 0 0 240.73197341L121.50126137 901.49395229 121.50126137 660.76197888zM843.69834553 179.29686699L723.33119488 179.29686699l0 120.3659867 120.3659867 0L843.69718158 179.29686699zM542.78279737 1021.86110407l120.3659867 0L663.14878407 901.49511623 542.78279737 901.49511623 542.78279737 1021.86110407zM663.14878407 660.76197888l0 240.73197341 120.3659867 0L783.51477077 660.76197888 663.14878407 660.76197888zM903.88075747 901.49511623L783.51477077 901.49511623 783.51477077 1021.86110407l240.73197341 0L1024.24674418 781.12796558 903.88075747 781.12796558 903.88075747 901.49511623zM903.88075747 660.76197888l120.36598671 0L1024.24674418 540.39599218 903.88075747 540.39599218 903.88075747 660.76197888zM542.78279737 540.39599218l0 120.3659867 120.3659867 0L663.14878407 540.39599218 542.78279737 540.39599218zM181.68367218 841.31154147l120.3659867 0L302.04965888 720.94555477 181.68367218 720.94555477 181.68367218 841.31154147z" fill="#00B51D" p-id="6295"></path></svg> 料箱号:{{part.boxLabel}}</span>
      </div>
      <div class="row">
        <div class="col" style="white-space: nowrap;" >        
          <span><svg t="1607854163337" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4469" width="16" height="16"><path d="M925.6 443h-41.4c-19 0-39-14.8-44.7-32.9l-23.8-57.7c-8.9-16.7-5.3-41.3 8.1-54.7l29.3-29.3c13.4-13.4 13.4-35.4 0-48.8l-48.8-48.7c-13.4-13.4-35.3-13.4-48.7 0l-29.3 29.3c-13.4 13.4-38.1 17.1-54.8 8.1l-57.6-23.7c-18.1-5.6-33-25.7-33-44.7V98.5c0-18.9-15.5-34.5-34.5-34.5h-68.9c-19 0-34.5 15.5-34.5 34.5v41.4c0 18.9-14.8 39.1-32.9 44.7l-57.7 23.7c-16.7 9-41.3 5.4-54.7-8.1l-29.4-29.3c-13.4-13.4-35.3-13.4-48.7 0l-48.7 48.7c-13.5 13.4-13.5 35.3 0 48.7l29.3 29.3c13.4 13.4 17.1 38.1 8.1 54.7l-23.7 57.8c-5.7 18.1-25.7 32.9-44.7 32.9H98.5c-19 0-34.5 15.5-34.5 34.5v68.9c0 19 15.5 34.5 34.5 34.5h41.4c19 0.1 39 14.9 44.6 33l23.8 57.7c8.9 16.7 5.3 41.4-8.1 54.8l-29.4 29.3c-13.4 13.4-13.4 35.3 0 48.8l48.8 48.7c13.4 13.4 35.3 13.4 48.7 0l29.3-29.3c13.3-13.4 38-17 54.7-8l57.8 23.8c18.1 5.6 32.9 25.7 32.9 44.6v41.3c0 18.9 15.5 34.5 34.5 34.5h68.9c18.9 0 34.5-15.5 34.5-34.5v-41.3c0-19 14.9-39 33-44.6l57.7-23.8c16.7-9 41.3-5.4 54.8 8l29.2 29.3c13.4 13.4 35.4 13.4 48.7 0l48.8-48.7c13.4-13.5 13.4-35.4 0-48.8l-29.3-29.3c-13.4-13.4-17-38.1-8.1-54.8l23.8-57.7c5.6-18.1 25.8-32.9 44.7-32.9h41.4c18.9 0 34.4-15.5 34.4-34.5v-69c0-18.9-15.5-34.5-34.4-34.5z m-241.2 68.9c0 95.2-77.1 172.3-172.3 172.3-95.2 0-172.3-77.1-172.3-172.3 0-95.2 77.1-172.3 172.3-172.3 95.2 0 172.3 77.2 172.3 172.3z" p-id="4470"></path></svg>{{part.partNo}}</span> 
        </div>    
          <div class="col">
            <ion-icon name="car"></ion-icon>车型: {{part.carModel}}
          </div>
      </div>
      <div class="row">        
          <div class="col">
            <span>{{part.partName}}</span>
          </div>
          <div class="col">
            <svg t="1607854568927" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="14210" width="16" height="16"><path d="M36.871483 261.597851c68.918941 27.065365 137.923917 53.909638 206.732812 81.249118 79.911557 31.751333 159.618027 64.022885 239.511576 95.822238 10.422377 4.147742 17.073169 8.321494 17.02615 22.011243-0.576242 160.388351-0.375158 320.781703-0.434183 481.172054-0.001 2.78717-0.688289 5.576342-1.383581 10.865563-49.820921-19.870344-98.361304-39.112424-146.81265-58.574597C252.986234 854.570853 154.524888 814.834167 55.971504 775.33558c-6.066547-2.434022-12.719341-3.402429-19.09902-5.051121l-0.001001-508.686608zM518.54775 54.522895c43.218148 18.228655 86.216204 37.001538 129.699463 54.572917 98.49436 39.804715 197.233823 79.003175 295.853235 118.495759 6.854879 2.746153 13.547689 5.895476 24.375236 10.634465-36.419293 14.560114-71.265926 24.570318-102.147894 41.717518-51.70071 28.707055-98.09019 23.796993-151.4566 0.205087-116.26082-51.39158-235.573923-95.882263-353.617492-143.250154-6.677804-2.679125-13.152523-5.864463-24.257186-10.851557 43.512272-17.356288 82.853792-32.784767 121.966216-48.772481 17.102182-6.991936 33.735166-15.131354 50.581241-22.749553 3.002261-0.002001 6.002521-0.002001 9.003781-0.002001zM527.698592 951.173419v-23.591907c0-152.985242 0.327137-305.970484-0.438184-458.951724-0.089037-17.936532 5.122151-26.035933 22.162307-32.296562 47.585982-17.487343 94.27959-37.402706 144.159535-57.502147v141.623471c9.174853-10.390363 14.779206-16.736028 20.699693-23.442844l18.220651 10.131254 18.69485-24.166147 19.609235 7.429119 19.496186-23.866022c5.630364 2.503051 10.901578 4.849036 16.699013 7.427119 1.14248-2.554073 2.732147-4.461874 2.743152-6.378678 0.229096-38.994375-0.392165-78.009758 0.927389-116.962115 0.260109-7.69123 6.056543-19.332118 12.352187-22.031252 53.585502-22.965644 107.8773-44.284596 164.730174-67.215225 0.742312 8.031373 1.819764 14.282998 1.824766 20.532622 0.092039 155.985502-0.04802 311.969003 0.300126 467.952504 0.029012 12.667319-2.776166 19.873345-15.775624 25.02951-144.015475 57.115984-287.737827 114.960274-431.577229 172.514443-4.019688 1.608676-8.45455 2.177915-14.828227 3.764581zM61.267728 236.927491c50.358146-20.398566 98.057176-40.037813 146.10035-58.793689 6.268632-2.449028 15.174372-2.519058 21.404989-0.040017 143.869414 57.271049 287.537743 115.04431 431.227081 172.767549 2.467036 0.991416 4.718982 2.519058 11.47682 6.187599-53.793589 21.556052-103.346397 41.677501-153.226343 60.954596-4.647952 1.795754-11.733927-0.851358-17.071169-2.978251C357.335053 357.684199 213.570683 300.146038 69.815317 242.580865c-1.964825-0.787331-3.616519-2.354989-8.547589-5.653374z" p-id="14211"></path></svg>箱型: {{part.boxModel}}
          </div>        
      </div>
      <div class="row">
        <span style="text-align: left;font-size:small;color: red;margin:1rem">数量：{{part.packingQty}}</span>
        <div class="col">
        </div>
        <div class="col">
          <span style="text-align: left;font-size:small;color:gray;margin:1rem;white-space:nowrap;">当前第{{i+1}}箱，共扫描{{item.parts.length}}箱</span>
        </div>
        <div class="col">
           <span style="float: right;"><button ion-button color="danger" (click)="delete(i)" icon-end>X</button></span>
        </div>
      </div>
    </div>
  </div>
  <message-list [data]="errors"></message-list>
</ion-content>
<ion-footer>
  <ion-row>
    <ion-col no-padding>
      <button no-margin ion-button full large color="light" (click)="cancel()">撤销</button>
    </ion-col>
    <ion-col no-padding>
      <button no-margin ion-button full large color="primary" [disabled]="!item.parts.length"
        (click)="save()">提交</button>
    </ion-col>
  </ion-row>
</ion-footer>
